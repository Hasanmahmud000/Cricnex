<!DOCTYPE html>
<html>
<head><title>Admin Panel</title></head>
<body>
  <h2>Match Data Update</h2>
  <input id="title" placeholder="Match Title"><br><br>
  <input id="team1" placeholder="Team 1"><br><br>
  <input id="logo1" placeholder="Team 1 Logo URL"><br><br>
  <input id="team2" placeholder="Team 2"><br><br>
  <input id="logo2" placeholder="Team 2 Logo URL"><br><br>
  <input id="time" type="datetime-local"><br><br>

  <div id="linkList">
    <input class="link" placeholder="Live Link 1"><br><br>
  </div>
  <button onclick="addLink()">Add Another Link</button><br><br>

  <input id="pass" type="password" placeholder="Password"><br><br>
  <button onclick="submitData()">Save</button>
  <p id="msg"></p>

  <script>
    const url = 'https://script.google.com/macros/s/AKfycbwFADGzs2_ArmVzY-z2-tu9IpTL1xu2Xje5-_ZCLRsXG19SllxFrDuc1aE0mRMsBMgiVA/exec';

    function addLink() {
      const div = document.createElement("div");
      div.innerHTML = '<input class="link" placeholder="Live Link"><br><br>';
      document.getElementById("linkList").appendChild(div);
    }

    function submitData() {
      const linkInputs = document.querySelectorAll(".link");
      const links = [];
      linkInputs.forEach(input => {
        if (input.value.trim() !== "") links.push(input.value.trim());
      });

      const params = new URLSearchParams({
        action: "setData",
        title: title.value,
        team1: team1.value,
        logo1: logo1.value,
        team2: team2.value,
        logo2: logo2.value,
        matchTime: time.value,
        links: JSON.stringify(links),
        password: pass.value
      });

      fetch(`${url}?${params}`)
        .then(res => res.text())
        .then(txt => msg.innerText = txt);
    }
  </script>
</body>
</html>
