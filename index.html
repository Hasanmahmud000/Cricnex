<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>BDStreamHub</title>
  <style>/* কোড আগের মতোই */</style>
</head>
<body>
  <h1>BDStreamHub</h1>
  <div id="notice" class="notice"></div>
  <div id="match-list"></div>

  <script>
    const api = 'https://script.google.com/macros/s/AKfycbyoJEJLbsz-yvs4L_S5qzhxM0hE4vls5K_7cLoH_PfS1AVDRbbmuV3WhwGtf9RiCwm6/exec';

    function countdownText(timeStr) {
      const now = new Date(), time = new Date(timeStr), diff = time - now;
      if (diff > 0) {
        const d = Math.floor(diff / 86_400_000);
        const h = Math.floor((diff / 3_600_000) % 24);
        const m = Math.floor((diff / 60_000) % 60);
        return `${d} দিন ${h} ঘন্টা ${m} মিনিট বাকি`;
      } else {
        const p = Math.floor(-diff / 60_000);
        return `ম্যাচ শুরু হয়েছে ${p} মিনিট আগে`;
      }
    }

    fetch(api).then(r => r.json()).then(data => {
      document.getElementById('notice').innerText = data.Notice || '';
      const list = document.getElementById('match-list');
      list.innerHTML = '';
      data.matches.forEach((m,i) => {
        const div = document.createElement('div'); div.className = 'match';
        const countdown = countdownText(m.MatchTime);
        div.innerHTML = `
          <div class="teams">
            <img src="${m.Team1Logo}" alt="${m.Team1}" /> ${m.Team1} vs ${m.Team2} <img src="${m.Team2Logo}" alt="${m.Team2}" />
          </div>
          <div class="countdown" id="cd-${i}">${countdown}</div>
          ${m.Intent1 ? `<a class="link-btn" href="${m.Intent1}">Server 1 (Leone)</a>` : ''}
        `;
        list.appendChild(div);
        setInterval(() => {
          document.getElementById(`cd-${i}`).innerText = countdownText(m.MatchTime);
        }, 1000);
      });
    });
  </script>
</body>
</html>
