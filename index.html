<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>BDStreamHub</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 20px; }
    .match { border: 1px solid #444; padding: 10px; margin: 10px 0; background: #222; border-radius: 10px; }
    .teams img { height: 30px; vertical-align: middle; margin: 0 5px; }
    .notice { background: #ff0; color: #000; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
    .countdown { font-size: 14px; color: #ccc; }
    .link-btn { margin-top: 10px; display: inline-block; background: #08f; color: white; padding: 5px 10px; border-radius: 5px; text-decoration: none; }
  </style>
</head>
<body>
  <h1>BDStreamHub</h1>
  <div id="notice" class="notice"></div>
  <div id="match-list"></div>

  <script>
    const api = 'https://script.google.com/macros/s/AKfycbwcRU5VzkuEW0YJJ50jwCeryKCxB1cXOwuOTKeL3Aj59vg7Klmo_28QZEdfF4Mai02Czw/exec'; // Replace with your deployed script URL

    fetch(api)
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById('match-list');
        const notice = document.getElementById('notice');
        data.matches.forEach(match => {
          if (match.Notice) notice.innerText = match.Notice;

          const div = document.createElement('div');
          div.className = 'match';
          const time = new Date(match.MatchTime);
          const now = new Date();
          const diff = time - now;
          const countdown = diff > 0 
            ? `${Math.floor(diff / (1000 * 60 * 60))} ঘন্টা ${Math.floor((diff / (1000 * 60)) % 60)} মিনিট বাকি`
            : `ম্যাচ শুরু হয়েছে ${Math.floor(-diff / (1000 * 60))} মিনিট আগে`;

          div.innerHTML = `
            <div class="teams">
              <img src="${match.Team1Logo}" /> ${match.Team1} vs ${match.Team2} <img src="${match.Team2Logo}" />
            </div>
            <div class="countdown">${countdown}</div>
            ${match.Server1 ? `<a class="link-btn" href="${match.Server1}" target="_blank">Server 1</a>` : ''}
            ${match.Server2 ? `<a class="link-btn" href="${match.Server2}" target="_blank">Server 2</a>` : ''}
            ${match.Server3 ? `<a class="link-btn" href="${match.Server3}" target="_blank">Server 3</a>` : ''}
          `;
          list.appendChild(div);
        });
      });
  </script>
</body>
</html>
