<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>CricNex DRM Player</title>
    <script src="https://cdn.jsdelivr.net/npm/shaka-player@4.6.0/dist/shaka-player.compiled.js"></script>
    <style>
      video { width: 95%; max-width: 720px; margin-top: 10px; background: black; }
      .watermark {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.6);
        padding: 5px 10px;
        color: #00e676;
        border-radius: 5px;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="watermark">CricNex | Powered by BDStreamHub</div>
    <video id="video" autoplay controls></video>

    <script>
      shaka.polyfill.installAll();
      if (shaka.Player.isBrowserSupported()) {
        initPlayer();
      } else {
        alert('Browser not supported!');
      }

      async function initPlayer() {
        const video = document.getElementById('video');
        const player = new shaka.Player(video);

        player.configure({
          drm: {
            clearKeys: {
              'd84c325f36814f39bbe59080272b10c3': '550727de4c96ef1ecff874905493580f'
            }
          }
        });

        try {
          await player.load('https://ssc-1-enc.edgenextcdn.net/out/v1/c696e4819b55414388a1a487e8a45ca1/index.mpd');
          console.log('Video loaded successfully');
        } catch (error) {
          console.error('Error code', error.code, 'object', error);
          alert('Video load failed: ' + error.message);
        }
      }
    </script>
  </body>
</html>
